import{a as k,u as F,j as e,m as l,A as E}from"./index-DdwSeh5l.js";import{S as N}from"./Section-DfogWagC.js";const P={done:{bg:"#07140f",icon:"‚úÖ"},in_progress:{bg:"#0a1914",icon:"üîÑ"},locked:{bg:"#050a08",icon:"üîí"}},M=k.memo(function({node:r,branchColor:i,isSelected:d,onClick:c}){var a;const{t}=F(),x=P[r.status],o=r.status!=="locked",p=((a=t.techTree.nodes)==null?void 0:a[r.id])||{},f=p.name||r.name,w=p.metrics||r.metrics;return e.jsxs(l.div,{onClick:o?c:void 0,initial:{opacity:0,scale:.8},animate:{opacity:o?1:.6,scale:d?1.1:1,boxShadow:d?`0 0 20px ${i}aa`:o?`0 0 10px ${i}22`:"none"},whileHover:o?{scale:1.05,boxShadow:`0 0 25px ${i}`}:void 0,whileTap:o?{scale:.98}:void 0,transition:{duration:.3,type:"spring",stiffness:200},style:{width:"130px",height:"130px",padding:"1rem",background:x.bg,border:`2px solid ${d?i:o?`${i}66`:"rgba(255, 255, 255, 0.1)"}`,borderRadius:"12px",cursor:o?"pointer":"not-allowed",position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[e.jsx("div",{style:{position:"absolute",top:"-10px",right:"-10px",fontSize:"1.1rem",zIndex:20,filter:"drop-shadow(0 0 3px rgba(0,0,0,0.5))",background:"rgba(0,0,0,0.6)",borderRadius:"50%",width:"26px",height:"26px",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(2px)"},children:r.status==="in_progress"?e.jsx(l.span,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},style:{display:"inline-block"},children:x.icon}):x.icon}),r.status==="in_progress"&&r.progress!==void 0&&e.jsx("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",height:"3px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"0 0 10px 10px",overflow:"hidden"},children:e.jsx(l.div,{initial:{width:0},animate:{width:`${r.progress}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:`linear-gradient(90deg, ${i}, #FFD700)`,borderRadius:"0 0 10px 10px"}})}),e.jsx("div",{style:{fontSize:"0.6rem",color:o?`${i}aa`:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.3rem",fontWeight:700},children:r.id.toUpperCase()}),e.jsx("div",{style:{fontSize:"0.85rem",fontWeight:600,color:r.status==="locked"?"rgba(255, 255, 255, 0.5)":"#fff",marginBottom:"0.3rem",lineHeight:1.2},children:f}),w&&r.status!=="locked"&&e.jsx("div",{style:{fontSize:"0.65rem",color:i,fontWeight:700,background:`${i}22`,padding:"0.15rem 0.4rem",borderRadius:"4px",display:"inline-block",border:`1px solid ${i}44`},children:w}),r.status==="in_progress"&&r.progress!==void 0&&e.jsxs("div",{style:{fontSize:"0.6rem",color:"#FFD700",marginTop:"0.3rem",fontWeight:600},children:[r.progress,"% ",t.techTree.complete]})]})}),h=[{id:"core",name:"CORE",color:"#00FF88",icon:"‚öôÔ∏è",nodes:[{id:"core-001",name:"Parser v2",description:"Advanced VIBEE specification parser with multi-language support",status:"done",branch:"core",prerequisites:[],unlocks:["core-002","inf-001"],metrics:"42 languages",x:0,y:0},{id:"core-002",name:"Multi-Lang Codegen",description:"Code generation for Zig, Python, Rust, Verilog and 38 more",status:"done",branch:"core",prerequisites:["core-001"],unlocks:["core-003"],metrics:"42 targets",x:1,y:0},{id:"core-003",name:"Bytecode VM",description:"Stack-based ternary virtual machine with 256 opcodes",status:"done",branch:"core",prerequisites:["core-002"],unlocks:["core-004","opt-t01"],metrics:"256 opcodes",x:2,y:0},{id:"core-004",name:"JIT Compilation",description:"Just-in-time compilation for native performance",status:"locked",branch:"core",prerequisites:["core-003","hw-001"],unlocks:["core-005"],metrics:"+1000% speed",x:3,y:0},{id:"core-005",name:"Binary Optimization",description:"Advanced dead-code elimination and register allocation",status:"locked",branch:"core",prerequisites:["core-004"],unlocks:[],metrics:"-30% size",x:4,y:0}]},{id:"inference",name:"INFERENCE",color:"#FFD700",icon:"üß†",nodes:[{id:"inf-001",name:"GGUF Parser",description:"Parse GGUF model files with quantization metadata",status:"done",branch:"inference",prerequisites:["core-001"],unlocks:["inf-002"],metrics:"All quants",x:0,y:1},{id:"inf-002",name:"Transformer",description:"Full transformer architecture with attention layers",status:"done",branch:"inference",prerequisites:["inf-001"],unlocks:["inf-003","opt-t02"],metrics:"32 layers",x:1,y:1},{id:"inf-003",name:"KV Cache",description:"Key-Value cache for efficient autoregressive generation",status:"done",branch:"inference",prerequisites:["inf-002"],unlocks:["inf-004","opt-t03"],metrics:"16x speedup",x:2,y:1},{id:"inf-004",name:"Batch Processing",description:"Parallel batch inference for multiple sequences",status:"done",branch:"inference",prerequisites:["inf-003"],unlocks:["dep-003","agent-001","inf-005"],metrics:"8x throughput",x:3,y:1},{id:"inf-005",name:"FlashAttention",description:"IO-aware attention mechanism for long sequences",status:"locked",branch:"inference",prerequisites:["inf-004"],unlocks:[],metrics:"128K context",x:4,y:1}]},{id:"optimization",name:"OPTIMIZATION",color:"#FF6B6B",icon:"‚ö°",nodes:[{id:"opt-t01",name:"Ternary Quantization",description:"BitNet b1.58 ternary weight quantization {-1, 0, +1}",status:"done",branch:"optimization",prerequisites:["core-003"],unlocks:["opt-t02"],metrics:"20x compression",x:0,y:2},{id:"opt-t02",name:"Ternary MatMul",description:"Optimized matrix multiplication for ternary weights",status:"done",branch:"optimization",prerequisites:["opt-t01","inf-002"],unlocks:["opt-t03"],metrics:"10x speedup",x:1,y:2},{id:"opt-t03",name:"Ternary KV Cache",description:"Compressed KV cache using ternary representation",status:"done",branch:"optimization",prerequisites:["opt-t02","inf-003"],unlocks:["opt-pc01"],metrics:"16x memory",x:2,y:2},{id:"opt-pc01",name:"Prefix Caching",description:"Reuse computed prefixes across requests",status:"in_progress",progress:90,branch:"optimization",prerequisites:["opt-t03"],unlocks:["hw-001","opt-cp01"],metrics:"90% hit rate",x:3,y:2},{id:"opt-cp01",name:"Chunked Prefill",description:"Split long prompt processing into manageable chunks",status:"locked",branch:"optimization",prerequisites:["opt-pc01"],unlocks:[],metrics:"-50% TTFT",x:4,y:2}]},{id:"deployment",name:"DEPLOYMENT",color:"#4ECDC4",icon:"üöÄ",nodes:[{id:"dep-001",name:"Docker",description:"Containerized deployment with optimized images",status:"done",branch:"deployment",prerequisites:[],unlocks:["dep-002"],metrics:"< 500MB",x:0,y:3},{id:"dep-002",name:"Fly.io",description:"Edge deployment on Fly.io infrastructure",status:"done",branch:"deployment",prerequisites:["dep-001"],unlocks:["dep-003"],metrics:"34 regions",x:1,y:3},{id:"dep-003",name:"Auto-Scaling",description:"Automatic scaling based on request load",status:"done",branch:"deployment",prerequisites:["dep-002","inf-004"],unlocks:["dep-004"],metrics:"0‚Üí100 pods",x:2,y:3},{id:"dep-004",name:"Multi-Region",description:"Global deployment with region-aware routing",status:"done",branch:"deployment",prerequisites:["dep-003"],unlocks:["dist-001","dep-005"],metrics:"< 50ms latency",x:3,y:3},{id:"dep-005",name:"Zero-Downtime",description:"Blue-green and canary deployment strategies",status:"locked",branch:"deployment",prerequisites:["dep-004"],unlocks:[],metrics:"99.99% SLA",x:4,y:3}]},{id:"hardware",name:"HARDWARE",color:"#9B59B6",icon:"üîß",nodes:[{id:"hw-001",name:"CUDA Backend",description:"Native CUDA kernels for NVIDIA GPUs",status:"in_progress",progress:60,branch:"hardware",prerequisites:["opt-pc01"],unlocks:["hw-002","core-004"],metrics:"+100x speed",x:0,y:4},{id:"hw-002",name:"Metal Backend",description:"Apple Metal shaders for M-series chips",status:"locked",branch:"hardware",prerequisites:["hw-001"],unlocks:["hw-003"],metrics:"+80x speed",x:1,y:4},{id:"hw-003",name:"FPGA Synthesis",description:"Verilog generation for FPGA deployment",status:"locked",branch:"hardware",prerequisites:["hw-002"],unlocks:["hw-004"],metrics:"1000x efficiency",x:2,y:4},{id:"hw-004",name:"ASIC Design",description:"Custom ternary chip design for maximum efficiency",status:"locked",branch:"hardware",prerequisites:["hw-003"],unlocks:["hw-005"],metrics:"10000x efficiency",x:3,y:4},{id:"hw-005",name:"Quantum Circuit",description:"Experimental quantum gates for ternary logic",status:"locked",branch:"hardware",prerequisites:["hw-004"],unlocks:[],metrics:"Ternary Qubits",x:4,y:4}]},{id:"agents",name:"AGENTS",color:"#FF1493",icon:"ü§ñ",nodes:[{id:"agent-001",name:"IGLA Core",description:"Instruction-based Generative Learning Architecture",status:"done",branch:"agents",prerequisites:["inf-004"],unlocks:["agent-002","agent-003"],metrics:"v1.0 stable",x:0,y:5},{id:"agent-002",name:"Tool Use Engine",description:"Local function calling and tool integration",status:"done",branch:"agents",prerequisites:["agent-001"],unlocks:["agent-004"],metrics:"50+ tools",x:1,y:5},{id:"agent-003",name:"Long Context",description:"Unlimited history with adaptive context windows",status:"done",branch:"agents",prerequisites:["agent-001"],unlocks:["agent-004"],metrics:"‚àû tokens",x:2,y:5},{id:"agent-004",name:"Multi-Agent",description:"Coordinator + Specialist agent orchestration",status:"in_progress",progress:75,branch:"agents",prerequisites:["agent-002","agent-003"],unlocks:["agent-005"],metrics:"8 specialists",x:3,y:5},{id:"agent-005",name:"Swarm Intelligence",description:"Decentralized emergent agent behavior",status:"locked",branch:"agents",prerequisites:["agent-004"],unlocks:[],metrics:"1K+ agents",x:4,y:5}]},{id:"knowledge",name:"KNOWLEDGE",color:"#00CED1",icon:"üìö",nodes:[{id:"know-001",name:"VSA Core",description:"Vector Symbolic Architecture with bind/bundle ops",status:"done",branch:"knowledge",prerequisites:[],unlocks:["know-002"],metrics:"10K dims",x:0,y:6},{id:"know-002",name:"Knowledge Graph",description:"Triple-based semantic networks with VSA encoding",status:"done",branch:"knowledge",prerequisites:["know-001"],unlocks:["know-003"],metrics:"1M triples",x:1,y:6},{id:"know-003",name:"Semantic Search",description:"Cosine similarity search over hypervectors",status:"done",branch:"knowledge",prerequisites:["know-002"],unlocks:["know-004"],metrics:"<1ms query",x:2,y:6},{id:"know-004",name:"RAG Engine",description:"Retrieval Augmented Generation with VSA",status:"in_progress",progress:80,branch:"knowledge",prerequisites:["know-003"],unlocks:["know-005"],metrics:"95% accuracy",x:3,y:6},{id:"know-005",name:"Ontology Learner",description:"Automatic discovery of semantic relationships",status:"locked",branch:"knowledge",prerequisites:["know-004"],unlocks:[],metrics:"Zero-shot",x:4,y:6}]},{id:"distributed",name:"DISTRIBUTED",color:"#FFA500",icon:"üåê",nodes:[{id:"dist-001",name:"Node Network",description:"Decentralized node discovery and routing",status:"done",branch:"distributed",prerequisites:["dep-004"],unlocks:["dist-002"],metrics:"1000+ nodes",x:0,y:7},{id:"dist-002",name:"TVC Sharding",description:"Ternary Vector Computing distributed shards",status:"in_progress",progress:65,branch:"distributed",prerequisites:["dist-001"],unlocks:["dist-003"],metrics:"256 shards",x:1,y:7},{id:"dist-003",name:"DePIN Network",description:"Decentralized Physical Infrastructure with TRI rewards",status:"locked",branch:"distributed",prerequisites:["dist-002"],unlocks:["dist-004"],metrics:"$TRI mining",x:2,y:7},{id:"dist-004",name:"Global Consensus",description:"Byzantine fault-tolerant consensus for ternary state",status:"locked",branch:"distributed",prerequisites:["dist-003"],unlocks:["dist-005"],metrics:"10K TPS",x:3,y:7},{id:"dist-005",name:"Holy Chain",description:"Golden chain of ternary events with immutable proof",status:"locked",branch:"distributed",prerequisites:["dist-004"],unlocks:[],metrics:"Zero-knowledge",x:4,y:7}]}];function C(){return h.flatMap(s=>s.nodes)}function S(s){return C().find(r=>r.id===s)}function O(){const s=C(),r=s.filter(c=>c.status==="done").length,i=s.filter(c=>c.status==="in_progress").length,d=s.filter(c=>c.status==="locked").length;return{total:s.length,done:r,inProgress:i,locked:d,percentage:Math.round(r/s.length*100)}}function G(s){const r=h.find(d=>d.id===s);if(!r)return null;const i=r.nodes.filter(d=>d.status==="done").length;return{total:r.nodes.length,done:i,percentage:Math.round(i/r.nodes.length*100)}}function L(){const s=[];return C().forEach(i=>{i.unlocks.forEach(d=>{const c=S(d),t=i.status==="done"?"active":"locked";c&&s.push({from:i.id,to:d,status:t})})}),s}const _=k.memo(function({nodeWidth:r,nodeHeight:i,gapX:d,gapY:c,offsetX:t,offsetY:x}){const o=k.useMemo(()=>L(),[]),p=a=>{const m=S(a);if(!m)return null;const g=t+m.x*(r+d)+r/2,n=x+m.y*(i+c)+i/2;return{x:g,y:n}},f=a=>{const m=S(a);if(!m)return"#00FF88";const g=h.find(n=>n.id===m.branch);return(g==null?void 0:g.color)||"#00FF88"},w=(a,m)=>{const g=p(a.from),n=p(a.to);if(!g||!n)return null;const y=a.status==="active",b=y?f(a.from):"rgba(255, 255, 255, 0.15)",A=n.x-g.x,B=n.y-g.y,z=g.x+A/2,W=g.y+B/2,q=Math.abs(B)>20?A*.3:0,$=`M ${g.x} ${g.y} Q ${z+q} ${g.y} ${z} ${W} Q ${z+q} ${n.y} ${n.x} ${n.y}`;return e.jsxs("g",{children:[y&&e.jsx(l.path,{d:$,fill:"none",stroke:b,strokeWidth:"4",strokeOpacity:"0.05",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1,delay:m*.1}}),e.jsx(l.path,{d:$,fill:"none",stroke:b,strokeWidth:"1.5",strokeDasharray:y?"none":"5 5",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.8,delay:m*.1}}),y&&[0,1,2].map(D=>e.jsx("circle",{r:"3",fill:`url(#glowGrad-${a.from.split("-")[0]})`,style:{opacity:.9},children:e.jsx("animateMotion",{path:$,dur:"3s",begin:`${D*1}s`,repeatCount:"indefinite"})},D)),e.jsx(l.circle,{cx:n.x,cy:n.y,r:"3",fill:y?b:"rgba(255, 255, 255, 0.2)",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:m*.1+.5}})]},`${a.from}-${a.to}-${m}`)};return e.jsxs("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1},children:[e.jsxs("defs",{children:[h.map(a=>e.jsxs("radialGradient",{id:`glowGrad-${a.id}`,children:[e.jsx("stop",{offset:"20%",stopColor:a.color,stopOpacity:"1"}),e.jsx("stop",{offset:"100%",stopColor:a.color,stopOpacity:"0"})]},a.id)),e.jsxs("linearGradient",{id:"activeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#00FF88"}),e.jsx("stop",{offset:"100%",stopColor:"#FFD700"})]})]}),o.map((a,m)=>w(a,m))]})});function H({node:s,onClose:r}){var m,g;const{t:i}=F();if(!s)return null;const c={done:{label:i.techTree.legend.done,color:"#00FF88",icon:"‚úÖ"},in_progress:{label:i.techTree.legend.progress,color:"#FFD700",icon:"üîÑ"},locked:{label:i.techTree.legend.locked,color:"#666",icon:"üîí"}}[s.status],t=h.find(n=>n.id===s.branch),x=s.prerequisites.map(n=>S(n)).filter(Boolean),o=s.unlocks.map(n=>S(n)).filter(Boolean),p=((m=i.techTree.nodes)==null?void 0:m[s.id])||{},f=p.name||s.name,w=p.description||s.description,a=p.metrics||s.metrics;return e.jsx(E,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",zIndex:100}}),e.jsxs(l.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{type:"spring",damping:25,stiffness:200},style:{position:"fixed",top:0,right:0,bottom:0,width:"min(450px, 95vw)",background:"linear-gradient(135deg, rgba(8, 20, 12, 0.99), rgba(0, 0, 0, 0.99))",borderLeft:`2px solid ${(t==null?void 0:t.color)||"#00FF88"}`,boxShadow:"-10px 0 40px rgba(0, 0, 0, 0.6)",zIndex:101,overflowY:"auto",padding:"80px 2rem 100px 2rem",scrollbarWidth:"thin",scrollbarColor:`${t==null?void 0:t.color}44 transparent`},children:[e.jsx("div",{style:{position:"absolute",top:"1.5rem",right:"1.5rem",zIndex:102},children:e.jsx(l.button,{onClick:r,whileHover:{scale:1.1,backgroundColor:"rgba(255, 255, 255, 0.2)"},whileTap:{scale:.9},style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",color:"#fff",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},children:"‚úï"})}),e.jsxs("div",{style:{marginBottom:"2.5rem"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.3rem 0.8rem",background:`${t==null?void 0:t.color}15`,border:`1px solid ${t==null?void 0:t.color}66`,borderRadius:"20px",fontSize:"0.7rem",fontWeight:700,color:t==null?void 0:t.color,marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:[e.jsx("span",{children:t==null?void 0:t.icon}),e.jsx("span",{children:((g=i.techTree.branches)==null?void 0:g[(t==null?void 0:t.id)||""])||(t==null?void 0:t.name)})]}),e.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"0.5rem",fontWeight:600},children:s.id.toUpperCase()}),e.jsx("h2",{style:{fontSize:"1.6rem",fontWeight:800,color:"#fff",marginBottom:"0.75rem",lineHeight:1.1,letterSpacing:"-0.02em"},children:f}),e.jsxs(l.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},style:{display:"inline-flex",alignItems:"center",gap:"0.4rem",padding:"0.4rem 0.8rem",background:`${c.color}15`,border:`1px solid ${c.color}44`,borderRadius:"8px",fontSize:"0.75rem",fontWeight:700,color:c.color},children:[e.jsx("span",{children:c.icon}),e.jsx("span",{children:c.label}),s.status==="in_progress"&&s.progress&&e.jsxs("span",{style:{opacity:.8,marginLeft:"0.2rem"},children:[s.progress,"%"]})]})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"0.75rem",fontWeight:700},children:i.techTree.labels.description}),e.jsx("p",{style:{fontSize:"0.88rem",color:"rgba(255, 255, 255, 0.7)",lineHeight:1.6,fontWeight:400},children:w})]}),a&&e.jsxs("div",{style:{marginBottom:"2.5rem"},children:[e.jsx("h3",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"0.75rem",fontWeight:700},children:i.techTree.labels.performance}),e.jsx("div",{style:{fontSize:"2.4rem",fontWeight:900,color:(t==null?void 0:t.color)||"#00FF88",textShadow:`0 0 30px ${t==null?void 0:t.color}33`,lineHeight:1},children:a})]}),s.status==="in_progress"&&s.progress!==void 0&&e.jsxs("div",{style:{marginBottom:"2.5rem"},children:[e.jsx("h3",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"0.75rem",fontWeight:700},children:i.techTree.labels.progress}),e.jsx("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"10px",height:"10px",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.1)"},children:e.jsx(l.div,{initial:{width:0},animate:{width:`${s.progress}%`},transition:{duration:1,ease:"easeOut"},style:{height:"100%",background:`linear-gradient(90deg, ${t==null?void 0:t.color}, #FFD700)`,borderRadius:"10px"}})}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.3)",marginTop:"0.5rem",textAlign:"right",fontWeight:600},children:[s.progress,"% ",i.techTree.complete]})]}),x.length>0&&e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"0.75rem",fontWeight:700},children:i.techTree.labels.prerequisites}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:x.map(n=>{var b;if(!n)return null;const y=((b=i.techTree.nodes)==null?void 0:b[n.id])||{};return e.jsxs("div",{style:{padding:"0.4rem 0.7rem",background:n.status==="done"?"rgba(0, 255, 136, 0.05)":"rgba(255, 255, 255, 0.03)",border:`1px solid ${n.status==="done"?"#00FF8844":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"6px",fontSize:"0.75rem",color:n.status==="done"?"#00FF88":"rgba(255, 255, 255, 0.4)",fontWeight:500},children:[n.status==="done"?"‚úÖ":"üîí"," ",y.name||n.name]},n.id)})})]}),o.length>0&&e.jsxs("div",{style:{marginBottom:"2.5rem"},children:[e.jsx("h3",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.3)",textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"0.75rem",fontWeight:700},children:i.techTree.labels.unlocks}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:o.map(n=>{var b;if(!n)return null;const y=((b=i.techTree.nodes)==null?void 0:b[n.id])||{};return e.jsxs("div",{style:{padding:"0.4rem 0.7rem",background:`${t==null?void 0:t.color}11`,border:`1px solid ${t==null?void 0:t.color}33`,borderRadius:"6px",fontSize:"0.75rem",color:t==null?void 0:t.color,fontWeight:500},children:["‚Üí ",y.name||n.name]},n.id)})})]}),s.status==="locked"&&e.jsxs(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"1.2rem",background:"rgba(255, 107, 107, 0.05)",border:"1px solid rgba(255, 107, 107, 0.2)",borderRadius:"12px",fontSize:"0.8rem",color:"#FF6B6B",textAlign:"center",fontWeight:500,lineHeight:1.4},children:["üîí ",i.techTree.labels.locked]}),e.jsxs("div",{style:{marginTop:"4rem",padding:"1.5rem",background:"rgba(255, 255, 255, 0.02)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.05)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.2)",textTransform:"uppercase",letterSpacing:"0.3em",marginBottom:"0.5rem",fontWeight:700},children:i.techTree.title.replace(/<[^>]*>?/gm,"")}),e.jsx("div",{style:{fontSize:"0.9rem",fontFamily:"monospace",color:(t==null?void 0:t.color)||"#FFD700",opacity:.8},children:"œÜ¬≤ + 1/œÜ¬≤ = 3"})]})]})]})})}function V(){const{t:s}=F(),r=O();return e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(0, 255, 136, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.5)",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"0.3rem"},children:s.techTree.labels.progress}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:700,color:"#00FF88",textShadow:"0 0 20px rgba(0, 255, 136, 0.3)"},children:[r.percentage,"%"]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.7)"},children:[e.jsx("span",{style:{color:"#00FF88"},children:r.done}),e.jsxs("span",{style:{color:"rgba(255, 255, 255, 0.4)"},children:[" / ",r.total]})]}),e.jsxs("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.4)"},children:[r.inProgress>0&&e.jsxs("span",{style:{color:"#FFD700",marginRight:"0.5rem"},children:["üîÑ ",r.inProgress," ",s.techTree.stats.inProgress]}),r.locked>0&&e.jsxs("span",{children:["üîí ",r.locked," ",s.techTree.stats.locked]})]})]})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"8px",height:"16px",overflow:"hidden",position:"relative"},children:[e.jsx(l.div,{initial:{width:0},animate:{width:`${r.percentage}%`},transition:{duration:1.5,ease:"easeOut"},style:{position:"absolute",left:0,top:0,height:"100%",background:"linear-gradient(90deg, #00CC66, #00FF88)",borderRadius:"8px",boxShadow:"0 0 20px rgba(0, 255, 136, 0.4)"}}),r.inProgress>0&&e.jsx(l.div,{initial:{width:0},animate:{width:`${r.inProgress/r.total*100}%`,opacity:[.5,1,.5]},transition:{width:{duration:1.5,ease:"easeOut"},opacity:{duration:1.5,repeat:1/0}},style:{position:"absolute",left:`${r.percentage}%`,top:0,height:"100%",background:"linear-gradient(90deg, #FFD700, #FFA500)",borderRadius:"0 8px 8px 0"}}),e.jsx(l.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:1},style:{position:"absolute",top:0,left:0,width:"30%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent)",borderRadius:"8px"}})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.75rem"},children:h.map(i=>{var c;const d=G(i.id);return d?e.jsxs(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h.indexOf(i)*.1},style:{background:"rgba(0, 0, 0, 0.3)",border:`1px solid ${i.color}44`,borderRadius:"8px",padding:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",marginBottom:"0.5rem"},children:[e.jsx("span",{children:i.icon}),e.jsx("span",{style:{fontSize:"0.7rem",color:i.color,fontWeight:600},children:((c=s.techTree.branches)==null?void 0:c[i.id])||i.name}),e.jsxs("span",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.4)",marginLeft:"auto"},children:[d.done,"/",d.total]})]}),e.jsx("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",height:"6px",overflow:"hidden"},children:e.jsx(l.div,{initial:{width:0},animate:{width:`${d.percentage}%`},transition:{duration:1,delay:h.indexOf(i)*.1},style:{height:"100%",background:i.color,borderRadius:"4px"}})})]},i.id):null})})]})}const I=130,v=130,R=40,T=40,u=40,j=60;function K(){const{t:s}=F(),[r,i]=k.useState(null),d=k.useRef(null),[,c]=k.useState({width:0,height:0}),t=k.useMemo(()=>{const o=Math.max(...h.flatMap(a=>a.nodes.map(m=>m.x))),p=Math.max(...h.flatMap(a=>a.nodes.map(m=>m.y))),f=(o+1)*(I+R)+u*2+j,w=(p+1)*(v+T)+u*2;return{width:f,height:w}},[]),x=k.useMemo(()=>s.techTree||{title:'TRINITY <span style="color: var(--accent)">RESEARCH</span> LABORATORY',sub:"Technology Development Tree",hint:"Click on nodes to view details"},[s.techTree]);return k.useEffect(()=>{const o=()=>{d.current&&c({width:d.current.offsetWidth,height:d.current.offsetHeight})};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),e.jsxs(N,{id:"tech-tree",children:[e.jsxs("div",{className:"tight fade",style:{textAlign:"center",marginBottom:"2rem"},children:[e.jsx("h2",{dangerouslySetInnerHTML:{__html:x.title}}),e.jsx("p",{className:"sub",children:x.sub})]}),e.jsx(V,{}),e.jsxs(l.div,{ref:d,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{position:"relative",width:"100%",overflowX:"auto",background:"linear-gradient(135deg, rgba(10, 26, 15, 0.8), rgba(0, 0, 0, 0.9))",border:"1px solid rgba(0, 255, 136, 0.2)",borderRadius:"16px",boxShadow:"0 0 40px rgba(0, 0, 0, 0.5), inset 0 0 60px rgba(0, 255, 136, 0.03)"},children:[e.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid rgba(0, 255, 136, 0.15)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0, 0, 0, 0.3)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx(l.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},style:{width:"10px",height:"10px",borderRadius:"50%",background:"#00FF88",boxShadow:"0 0 10px #00FF88"}}),e.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,color:"#00FF88",textTransform:"uppercase",letterSpacing:"0.1em"},children:s.techTree.active})]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.4)"},children:x.hint})]}),e.jsxs("div",{style:{minWidth:`${t.width}px`,minHeight:`${t.height}px`,position:"relative",padding:`${u}px ${u}px ${u}px ${u+j}px`},children:[e.jsx("div",{style:{position:"absolute",left:`${u/2}px`,top:`${u}px`,bottom:`${u}px`,width:`${j}px`,background:"rgba(0, 255, 136, 0.03)",borderLeft:"1px solid rgba(0, 255, 136, 0.1)",borderRight:"1px solid rgba(0, 255, 136, 0.1)",borderRadius:"100px",zIndex:1}}),e.jsx(_,{nodeWidth:I,nodeHeight:v,gapX:R,gapY:T,offsetX:u+j,offsetY:u}),h.map((o,p)=>e.jsx(l.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:p*.1},style:{position:"absolute",left:`${u/2}px`,top:`${u+p*(v+T)}px`,width:`${j}px`,height:`${v}px`,display:"flex",alignItems:"center",justifyContent:"center",zIndex:2},children:e.jsxs("div",{style:{writingMode:"vertical-rl",textOrientation:"mixed",fontSize:"0.62rem",fontWeight:800,color:o.color,letterSpacing:"0.18em",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"0.5rem",opacity:.8,filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},children:[e.jsx("span",{style:{fontSize:"0.8rem",filter:"none"},children:o.icon}),s.techTree.branches[o.id]||o.name]})},o.id)),h.map(o=>o.nodes.map((p,f)=>e.jsx(l.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:f*.05+h.indexOf(o)*.1},style:{position:"absolute",left:`${u+j+p.x*(I+R)}px`,top:`${u+p.y*(v+T)}px`,zIndex:10},children:e.jsx(M,{node:p,branchColor:o.color,isSelected:(r==null?void 0:r.id)===p.id,onClick:()=>i(p)})},p.id)))]}),e.jsxs("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(0, 255, 136, 0.15)",background:"rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.4)"},children:"TRINITY RESEARCH LABORATORY v1.0"}),e.jsx("div",{style:{fontSize:"0.8rem",fontFamily:"monospace",color:"#FFD700"},children:"œÜ¬≤ + 1/œÜ¬≤ = 3"})]})]}),e.jsxs("div",{className:"fade",style:{marginTop:"1.5rem",display:"flex",justifyContent:"center",gap:"2rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"4px",background:"#00FF88",boxShadow:"0 0 8px rgba(0, 255, 136, 0.5)"}}),e.jsx("span",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)"},children:s.techTree.legend.done})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(l.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},style:{width:"12px",height:"12px",borderRadius:"4px",background:"#FFD700",boxShadow:"0 0 8px rgba(255, 215, 0, 0.5)"}}),e.jsx("span",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)"},children:s.techTree.legend.progress})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"4px",background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)"}}),e.jsx("span",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)"},children:s.techTree.legend.locked})]})]}),e.jsx(H,{node:r,onClose:()=>i(null)})]})}export{K as default};
